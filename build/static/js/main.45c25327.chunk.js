(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{50:function(e,t,a){e.exports=a(92)},58:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var l=a(1),r=a.n(l),i=a(24),s=a.n(i),c=(a(57),a(58),a(94)),n=a(17);const o="GET_OPTIONS",d=e=>({type:o,payload:e}),u=e=>({type:"GET_OPTIONS_SUCCESS",payload:e}),m=e=>({type:"GET_OPTIONS_FAIL",payload:e});var p=a(34);var b=function(e){let{options:t,expiryDate:a,updateExpiryDate:l}=e;return r.a.createElement("div",{className:"navigation"},r.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{class:"d-flex justify-content-end"},r.a.createElement("h4",{className:"navbar-brand"},(null===a||void 0===a?void 0:a.label)||"Loading.."),r.a.createElement(p.a,{className:"select-style",onChange:e=>l(e),options:t})))))};function P(e){return e?e.toLocaleString():"-"}function v(){const e=Object(n.b)(),{options:t,loading:a,error:i}=Object(n.c)(e=>({options:e.OptionReducer.options,loading:e.OptionReducer.loading,error:e.OptionReducer.error})),{records:{expiryDates:s,underlyingValue:o,strikePrices:u,timestamp:m,data:p}}=t;console.log({expiryDates:s,underlyingValue:o,strikePrices:u,timestamp:m});const[v,E]=Object(l.useState)(null),[O,k]=Object(l.useState)(null),y=Object(l.useMemo)(()=>{if(!s)return[];const e=s.map(e=>({label:e,value:e}));return E(e[0]),e},[s]),{filteredOptions:S,loICall:T,loIPut:f,lVolCall:I,lVolPut:h}=(Object(l.useMemo)(()=>{if(!u)return[];const e=u.map(e=>({label:e,value:e}));return k(e[0]),e},[u]),Object(l.useMemo)(()=>{var e,a;if(!(null===t||void 0===t?void 0:t.filtered))return[];const l=null!==(null===v||void 0===v?void 0:v.value)?((null===t||void 0===t?void 0:null===(e=t.records)||void 0===e?void 0:e.data)||[]).filter(e=>e.expiryDate===(null===v||void 0===v?void 0:v.value)):(null===t||void 0===t?void 0:null===(a=t.filtered)||void 0===a?void 0:a.data)||[],r=l.filter(e=>o<=e.strikePrice).map(e=>({openInterest:e.CE.openInterest,strikePrice:e.strikePrice})),i=l.filter(e=>o>=e.strikePrice).map(e=>({openInterest:e.PE.openInterest,strikePrice:e.strikePrice})),s=r.sort((e,t)=>t.openInterest-e.openInterest).slice(0,4),c=i.sort((e,t)=>t.openInterest-e.openInterest).slice(0,4),n=l.filter(e=>o<=e.strikePrice).map(e=>({totalTradedVolume:e.CE.totalTradedVolume,strikePrice:e.strikePrice})),d=l.filter(e=>o>=e.strikePrice).map(e=>({totalTradedVolume:e.PE.totalTradedVolume,strikePrice:e.strikePrice}));return{filteredOptions:l,loICall:s,loIPut:c,lVolCall:n.sort((e,t)=>t.totalTradedVolume-e.totalTradedVolume).slice(0,4),lVolPut:d.sort((e,t)=>t.totalTradedVolume-e.totalTradedVolume).slice(0,4)}},[v,O]));return console.log({filteredOptions:S,loICall:T,loIPut:f,lVolCall:I,lVolPut:h}),Object(l.useEffect)(()=>{e(d());const t=setInterval(()=>{e(d())},3e4);return()=>{clearInterval(t)}},[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{options:y,expiryDate:v,updateExpiryDate:E}),r.a.createElement(c.a,{className:"home"},r.a.createElement("div",{className:"my-3"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"table-small-view",scope:"col"},"OI"),r.a.createElement("th",{className:"table-small-view",scope:"col"},"CHNG IN OI"),r.a.createElement("th",{className:"table-small-view",scope:"col"},"VOLUME"),r.a.createElement("th",{className:"table-small-view",scope:"col"},"STRIKE"),r.a.createElement("th",{className:"table-small-view",scope:"col"},"VOLUME"),r.a.createElement("th",{className:"table-small-view",scope:"col"},"CHNG IN OI"),r.a.createElement("th",{className:"table-small-view",scope:"col"},"OI"))),r.a.createElement("tbody",null,(S||[]).map((e,t)=>r.a.createElement("tr",null,r.a.createElement("td",{className:"table-small-view ".concat(o>=e.strikePrice?"table-in-the-price":T[0].strikePrice===e.strikePrice?"table-forth-view":T[1].strikePrice===e.strikePrice?"table-third-view":T[2].strikePrice===e.strikePrice?"table-second-view":T[3].strikePrice===e.strikePrice?"table-first-view":"")},P(e.CE.openInterest)),r.a.createElement("td",{className:"table-small-view ".concat(o>=e.strikePrice?"table-in-the-price":"")},P(e.CE.changeinOpenInterest)),r.a.createElement("td",{className:"table-small-view ".concat(o>=e.strikePrice?"table-in-the-price":I[0].strikePrice===e.strikePrice?"table-vol-forth-view":I[1].strikePrice===e.strikePrice?"table-vol-third-view":I[2].strikePrice===e.strikePrice?"table-vol-second-view":T[3].strikePrice===e.strikePrice?"table-vol-first-view":"")},P(e.CE.totalTradedVolume)),r.a.createElement("td",{className:"table-small-view strike-price"},P(e.strikePrice)),r.a.createElement("td",{className:"table-small-view ".concat(o<=e.strikePrice?"table-in-the-price":h[0].strikePrice===e.strikePrice?"table-vol-forth-view":h[1].strikePrice===e.strikePrice?"table-vol-third-view":h[2].strikePrice===e.strikePrice?"table-vol-second-view":f[3].strikePrice===e.strikePrice?"table-vol-first-view":"")},P(e.PE.totalTradedVolume)),r.a.createElement("td",{className:"table-small-view ".concat(o<=e.strikePrice?"table-in-the-price":"")},P(e.PE.changeinOpenInterest)),r.a.createElement("td",{className:"table-small-view ".concat(o<=e.strikePrice?"table-in-the-price":f[0].strikePrice===e.strikePrice?"table-forth-view":f[1].strikePrice===e.strikePrice?"table-third-view":f[2].strikePrice===e.strikePrice?"table-second-view":f[3].strikePrice===e.strikePrice?"table-first-view":"")},P(e.PE.openInterest)))))))))}a(95),a(96),a(49);const E="GET_POSTS",O="GET_POST_DETAILS",k=e=>({type:"GET_POSTS_SUCCESS",payload:e}),y=e=>({type:"GET_POSTS_FAIL",payload:e}),S=e=>({type:"GET_POST_DETAILS_SUCCESS",payload:e}),T=e=>({type:"GET_POST_DETAILS_FAIL",payload:e});var f=a(9);var I=a(21);var h=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(I.a,null,r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/",exact:!0,component:()=>r.a.createElement(v,null)}))))},w=a(22),_=a(48);const g={posts:[],post:{},loadingPosts:!1,loadingPostDetails:!1,error:{message:""}};var N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:e={...e,loadingPosts:!0};break;case"GET_POSTS_SUCCESS":e={...e,posts:t.payload,loadingPosts:!1};break;case"GET_POSTS_FAIL":e={...e,error:{message:"Error"},loadingPosts:!1};break;case O:e={...e,loadingPostDetails:!0};break;case"GET_POST_DETAILS_SUCCESS":e={...e,post:t.payload[0],loadingPostDetails:!1};break;case"GET_POST_DETAILS_FAIL":e={...e,error:{message:"Error"},loadingPostDetails:!1};break;default:e={...e}}return e};const j={options:{records:{data:null,expiryDates:null,underlyingValue:null,strikePrices:null,timestamp:null},filtered:{data:null}},error:null,loading:null};var C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return{...e,loading:!0};case"GET_OPTIONS_SUCCESS":case"GET_OPTIONS_FAIL":return{...e,loading:!1,options:t.payload};default:return e}};var V=Object(w.b)({PostReducer:N,OptionReducer:C}),D=a(10),G=a(97);const L=G.a.create({baseURL:"http://localhost:3000"});async function x(e,t){return await L.get(e,{...t}).then(e=>e.data)}G.a.interceptors.request.use(function(e){return e}),L.interceptors.response.use(e=>e,e=>Promise.reject(e));const A=()=>x("/posts"),U=e=>x("/posts",{params:{id:e}}),R=()=>x("/api/v1/options");function*F(){try{const t=yield Object(D.b)(A);yield Object(D.d)(k(t))}catch(e){yield Object(D.d)(y(e.response))}}function M(e){let{payload:t}=e;return function*(){try{const a=yield Object(D.b)(U,t);yield Object(D.d)(S(a))}catch(e){yield Object(D.d)(T(e.response))}}()}var H=function*(){yield Object(D.e)(E,F),yield Object(D.e)(O,M)};function*J(){try{const t=yield Object(D.b)(R);yield Object(D.d)(u(t))}catch(e){yield Object(D.d)(m(e.response))}}var X=function*(){yield Object(D.e)(o,J)};const q=Object(_.a)(),B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||w.c,K=Object(w.d)(V,B(Object(w.a)(q)));q.run(function*(){yield Object(D.a)([Object(D.c)(H),Object(D.c)(X)])});var z=K;const Q=r.a.createElement(n.a,{store:z},r.a.createElement(I.a,null,r.a.createElement(h,null)));s.a.render(Q,document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.45c25327.chunk.js.map